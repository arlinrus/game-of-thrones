---
title: "Проект по анализу сети - Игра престолов"
output:
  rmdformats::downcute:
    fig_width: 10
    fig_height: 10
    df_print: kable
    thumbnails: false
    highlight: kate
    code_folding: show
date: "`r Sys.Date()`"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Описание данных

**«Игра престолов»** — телесериал канала HBO, основанный на серии книг Джорджа Мартина «Песнь Льда и Пламени». Мы проанализируем сеть совпадений персонажей книг «Игры престолов».

![](https://m.media-amazon.com/images/M/MV5BMTNhMDJmNmYtNDQ5OS00ODdlLWE0ZDAtZTgyYTIwNDY3OTU3XkEyXkFqcGc@._V1_.jpg)

Мы используем [набор данных](https://www.kaggle.com/datasets/mmmarchetti/game-of-thrones-dataset) с Kaggle. В узлах нашей сети — персонажи, в рёбрах — их совместные появления в главах по книгам 1-5. Таким образом, каждая книга формирует отдельный слой сети, что позволяет изучить её эволюцию во времени.

### Исследовательский вопрос: Как меняется структура сети персонажей по книгам — появляются ли новые кластеры, и как изменяются центральные узлы с течением времени?

Для анализа мы планируем построить графы, вычислить метрики центральности (`degree`, `betweenness`, `closeness`), проанализировать кластерную структуру и визуализировать изменения сети во времени.

### Импорт данных

```{r}
library(readr)

book1 <- read_csv("book1.csv")
book2 <- read_csv("book2.csv")
book3 <- read_csv("book3.csv")
book4 <- read_csv("book4.csv")
book5 <- read_csv("book5.csv")

head(book1)
```

### Структура данных

| Переменная | Тип данных | Описание |
|-------------------------|-------------------------|----------------------|
| **Source** | `chr` | Имя персонажа, от которого идёт связь (узел-источник). |
| **Target** | `chr` | Имя персонажа, к которому идёт связь (узел-получатель). |
| **Type** | `chr` | Тип связи; в данных — всегда *Undirected* (неориентированная связь между персонажами). |
| **weight** | `num` | Вес ребра — насколько часто персонажи взаимодействуют или появляются вместе. |
| **book** | `num` | Номер книги (1–5), к которой относится данная пара персонажей. |
